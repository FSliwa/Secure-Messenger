<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Essential meta tags -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, viewport-fit=cover, user-scalable=yes" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    
    <!-- Mobile Web App Capable -->
    <meta name="mobile-web-app-capable" content="yes" />
    
    <!-- Primary Meta Tags -->
    <title>SecureChat Pro - Commercial Grade Encrypted Messaging</title>
    <meta name="title" content="SecureChat Pro - Commercial Grade Encrypted Messaging" />
    <meta name="description" content="Enterprise-grade encrypted messaging platform with post-quantum cryptography. Secure your communications with military-level encryption taking 3 minutes to ensure maximum security." />
    <meta name="keywords" content="encrypted messaging, secure chat, end-to-end encryption, privacy, secure communication, post-quantum cryptography" />
    <meta name="robots" content="index, follow" />
    <meta name="language" content="English" />
    <meta name="author" content="SecureChat Pro" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://securechat.pro/" />
    <meta property="og:title" content="SecureChat Pro - End-to-End Encrypted Messaging" />
    <meta property="og:description" content="Connect with friends and the world around you with end-to-end encrypted messaging. Enterprise-grade security with post-quantum cryptography." />
    <meta property="og:image" content="/favicon-512x512.png" />
    <meta property="og:site_name" content="SecureChat Pro" />
    <meta property="og:locale" content="en_US" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://securechat.pro/" />
    <meta property="twitter:title" content="SecureChat Pro - End-to-End Encrypted Messaging" />
    <meta property="twitter:description" content="Connect with friends and the world around you with end-to-end encrypted messaging. Enterprise-grade security with post-quantum cryptography." />
    <meta property="twitter:image" content="/favicon-512x512.png" />
    
    <!-- Favicons and Icons for all browsers -->
    <!-- Standard favicon for modern browsers with cache busting -->
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="shortcut icon" href="/favicon.ico" />
    
    <!-- PNG favicons for different sizes - all generated from Secure-Messenger Favicon.svg -->
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="48x48" href="/favicon-48x48.png" />
    <link rel="icon" type="image/png" sizes="64x64" href="/favicon-64x64.png" />
    <link rel="icon" type="image/png" sizes="128x128" href="/favicon-128x128.png" />
    <link rel="icon" type="image/png" sizes="192x192" href="/favicon-192x192.png" />
    <link rel="icon" type="image/png" sizes="256x256" href="/favicon-256x256.png" />
    <link rel="icon" type="image/png" sizes="512x512" href="/favicon-512x512.png" />
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="apple-touch-icon-precomposed" sizes="180x180" href="/apple-touch-icon.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/favicon-152x152.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/favicon-144x144.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="/favicon-120x120.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/favicon-114x114.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="/favicon-76x76.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/favicon-72x72.png" />
    <link rel="apple-touch-icon" sizes="60x60" href="/favicon-60x60.png" />
    <link rel="apple-touch-icon" sizes="57x57" href="/favicon-57x57.png" />
    
    <!-- Android Chrome -->
    <link rel="manifest" href="/manifest.json" />
    
    <!-- Safari Pinned Tab -->
    <link rel="mask-icon" href="/favicon.svg" color="#667eea" />
    
    <!-- Windows Metro -->
    <meta name="msapplication-TileImage" content="/favicon-144x144.png" />
    <meta name="msapplication-square70x70logo" content="/favicon-70x70.png" />
    <meta name="msapplication-square150x150logo" content="/favicon-150x150.png" />
    <meta name="msapplication-square310x310logo" content="/favicon-310x310.png" />
    <meta name="msapplication-wide310x150logo" content="/favicon-310x150.png" />
    
    <!-- Theme and Browser Configuration -->
    <meta name="theme-color" content="#1877F2" />
    <meta name="msapplication-TileColor" content="#1877F2" />
    <meta name="msapplication-config" content="/browserconfig.xml" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="SecureChat" />
    <meta name="format-detection" content="telephone=no" />
    
    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:; connect-src 'self' https:;" />
    <meta http-equiv="X-Content-Type-Options" content="nosniff" />
    <meta http-equiv="X-Frame-Options" content="DENY" />
    <meta http-equiv="X-XSS-Protection" content="1; mode=block" />
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin" />
    
    <!-- Performance optimizations -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    <link rel="dns-prefetch" href="https://fonts.gstatic.com">
    
    <!-- Font loading with fallbacks -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Stylesheets -->
    <link href="/src/main.css" rel="stylesheet" />
    
    <!-- Browser polyfills and compatibility -->
    <script>
        // Feature detection and polyfills
        (function() {
            // Basic feature detection - only warn, don't block
            if (typeof Promise === 'undefined') {
                console.warn('This browser is very old and may not work properly. Please update to a modern browser.');
            }
            
            // Fetch API polyfill for older browsers
            if (typeof fetch === 'undefined') {
                console.warn('Fetch API not available, some features may not work properly');
            }
            
            // Viewport height fix for mobile browsers
            function setVH() {
                var vh = window.innerHeight * 0.01;
                document.documentElement.style.setProperty('--vh', vh + 'px');
            }
            setVH();
            window.addEventListener('resize', setVH);
            window.addEventListener('orientationchange', setVH);
            
            // Safe area insets support
            if (CSS.supports && CSS.supports('padding: env(safe-area-inset-top)')) {
                document.documentElement.classList.add('safe-area-supported');
            }
            
            // Dark mode support detection
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.classList.add('prefers-dark');
            }
            
            // Reduced motion support
            if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.documentElement.classList.add('prefers-reduced-motion');
            }
            
            // High contrast support
            if (window.matchMedia && window.matchMedia('(prefers-contrast: high)').matches) {
                document.documentElement.classList.add('prefers-high-contrast');
            }
            
            // Touch support detection
            if ('ontouchstart' in window || navigator.maxTouchPoints > 0) {
                document.documentElement.classList.add('touch-enabled');
            }
            
            // Internet connection detection
            function updateOnlineStatus() {
                document.documentElement.classList.toggle('offline', !navigator.onLine);
            }
            window.addEventListener('online', updateOnlineStatus);
            window.addEventListener('offline', updateOnlineStatus);
            updateOnlineStatus();
            
        })();
        
        // Simple SPA routing for authentication callbacks and password reset
        (function() {
            // Check if we're on a route that should be handled by the app
            var path = window.location.pathname;
            var hasAuthHash = window.location.hash.includes('access_token') || 
                             window.location.hash.includes('error');
            
            // Routes that should be handled by React
            if (path === '/reset-password' || 
                path === '/auth/callback' || 
                hasAuthHash) {
                // Let the React app handle these routes
                return;
            }
            
            // For other paths, redirect to root if not already there
            if (path !== '/' && !path.startsWith('/src/')) {
                window.history.replaceState({}, '', '/');
            }
        })();
    </script>
</head>

<body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
</body>

</html>
