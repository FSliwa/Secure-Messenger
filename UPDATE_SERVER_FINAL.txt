â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸš€ AKTUALIZACJA SERWERA + NAPRAWA HTTPS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

PoÅ‚Ä…cz siÄ™ z serwerem przez Web Console i wykonuj POJEDYNCZO:


CZÄ˜ÅšÄ† 1: AKTUALIZACJA APLIKACJI
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# 1. PrzejdÅº do katalogu
cd /opt/Secure-Messenger


# 2. Pobierz najnowsze zmiany
git pull origin main


# 3. SprawdÅº co siÄ™ zmieniÅ‚o
git log --oneline -3


CZÄ˜ÅšÄ† 2: KONFIGURACJA HTTPS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# 4. Zatrzymaj Docker (zwalnia port 80 dla Certbot)
docker-compose -f deployment/docker/docker-compose.production.yml down


# 5. Zatrzymaj Nginx jeÅ›li dziaÅ‚a
sudo systemctl stop nginx 2>/dev/null || true


# 6. Wygeneruj certyfikat SSL (ZMIEÅƒ EMAIL NA SWÃ“J!)
sudo certbot certonly --standalone --non-interactive --agree-tos --email TWOJ-EMAIL@gmail.com -d secure-messenger.info -d www.secure-messenger.info


# 7. SprawdÅº czy certyfikat zostaÅ‚ utworzony
sudo ls -la /etc/letsencrypt/live/secure-messenger.info/


# 8. Zainstaluj Nginx (jeÅ›li nie ma)
sudo apt install -y nginx


# 9. Skopiuj konfiguracjÄ™ Nginx z SSL
sudo cp deployment/nginx/nginx-ssl.conf /etc/nginx/nginx.conf


# 10. Test konfiguracji Nginx
sudo nginx -t


# 11. Uruchom Nginx
sudo systemctl restart nginx
sudo systemctl enable nginx


# 12. SprawdÅº status Nginx
sudo systemctl status nginx | head -10


CZÄ˜ÅšÄ† 3: WERYFIKACJA
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

# 13. Test HTTPS
curl -I https://secure-messenger.info


# 14. SprawdÅº czy port 443 jest otwarty
sudo netstat -tlnp | grep 443


# 15. JeÅ›li firewall jest wÅ‚Ä…czony, otwÃ³rz port 443
sudo ufw allow 443/tcp
sudo ufw reload


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… WERYFIKACJA KOÅƒCOWA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

OtwÃ³rz w przeglÄ…darce:
ğŸ”’ https://secure-messenger.info

PowinieneÅ› zobaczyÄ‡:
- âœ… ZielonÄ… kÅ‚Ã³dkÄ™ w pasku adresu
- âœ… DziaÅ‚ajÄ…cÄ… aplikacjÄ™
- âœ… MoÅ¼liwoÅ›Ä‡ rejestracji


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ“§ KONFIGURACJA EMAIL W SUPABASE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Po skonfigurowaniu HTTPS, w Supabase Dashboard:

1. Authentication > Settings
2. WÅ‚Ä…cz: "Enable Email Confirmations"
3. WyÅ‚Ä…cz: "Enable auto confirm"
4. Authentication > URL Configuration:
   Site URL: https://secure-messenger.info
   Redirect URLs: https://secure-messenger.info/**

5. Authentication > Email Templates:
   Dostosuj szablony (opcjonalnie)


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âš ï¸ WAÅ»NE!
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. ZMIEÅƒ 'TWOJ-EMAIL@gmail.com' na swÃ³j email!
2. Kopiuj komendy POJEDYNCZO
3. Czekaj aÅ¼ kaÅ¼da siÄ™ wykona
4. Supabase ma limit 3 emaile/h (wystarczy dla testÃ³w)
5. Dla produkcji rozwaÅ¼ upgrade do Pro


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ†˜ JEÅšLI CERTBOT NIE DZIAÅA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

SprawdÅº DNS:
nslookup secure-messenger.info
(musi zwracaÄ‡: 5.22.223.49)

SprawdÅº czy port 80 jest wolny:
sudo netstat -tlnp | grep :80

JeÅ›li zajÄ™ty, zatrzymaj wszystko:
docker-compose -f deployment/docker/docker-compose.production.yml down
sudo systemctl stop nginx
